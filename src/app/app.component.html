<h2 class="text-center mt-4 mb-4">Blotto game</h2>
<div class="container">
  <div class="row">
    <div class="col-lg-6">
      <div>
        <div class="form-group">
          <label for="positions">Enter Positions Number:</label>
          <input type="number" class="form-control" name="positions" id="positions" placeholder="Positions Number"
            [(ngModel)]="positions">
        </div>
        <h4 class="mb-3">First player</h4>
        <div class="form-group">
          <label for="polki">Enter Regiments Number:</label>
          <input type="number" class="form-control" name="polki" id="polki" placeholder="Regiments Number"
            [(ngModel)]="firstRegiments">
        </div>
      </div>
      <div>
        <h4 class="mb-3">Second player</h4>
        <div class="form-group">
          <label for="polki">Enter Regiments Number:</label>
          <input type="number" class="form-control" name="polki" id="polki" placeholder="Regiments Number"
            [(ngModel)]="secondRegiments">
        </div>
      </div>
    </div>
    <div class="col-lg-6 d-flex align-self-center">
      <img class="img-fluid" src="../assets/military-troops.png" />
    </div>
  </div>
  <br />
  <button type="button" class="btn btn-dark mb-5 mr-3" mat-raised-button (click)="calculate()">Calculate</button>
  <button type="button" class="btn btn-warning mb-5" mat-raised-button (click)="reset()">Reset</button>
  <div class="row" *ngIf="isCalculated">
    <div class="col-md-1">
      <select [(ngModel)]="selectedStrategyIndex" style="width: 80px;">
        <option *ngFor="let strategy of firstPlayerStrategies" [value]="strategy.key">{{strategy.value}}</option>
      </select>
    </div>
    <div class="col-md-2">
      <button class="btn btn-dark mb-5 mr-3" (click)="makeMove()">Make a move</button>
    </div>
    <div class="col-md-6" *ngIf="firstPlayerWin">
      <span><b>Second player random strategy:</b> {{secondPlayerStrategy}}</span>
      <span style="margin-left: 25px;"><b>Your win:</b> {{firstPlayerWin}}</span>
    </div>
  </div>
  <div class="row" *ngIf="isCalculated">
    <div class="col-lg-6">
      <h3 class="mb-3">Strategy matrix:</h3>
      <section>
        <table class="table table-dark table-bordered">
          <tr *ngFor="let row of table; let even = even; let odd = odd" [ngClass]="{ odd: odd, even: even }">
            <td class="field text-center" *ngFor="let field of row">
              {{field}}
            </td>
          </tr>
        </table>
      </section>
    </div>
    <div class="col-lg-6 d-flex">
      <button type="button" class="btn btn-dark mb-5 mr-3 optimal-btn" mat-raised-button
        (click)="firstPlayerOptimal()">First Player
        Optimal</button>

      <span *ngIf="optimalStrategies.length > 0">
        First player optimal strategies:
        <span *ngFor="let strategy of optimalStrategies">
          {{strategy}}
        </span>
      </span>
    </div>
  </div>
</div>